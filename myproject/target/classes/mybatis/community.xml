<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="community">
	
	<select id="communitylist" resultType="CommunityVo">
		SELECT *  
		FROM BOARD
		ORDER BY FRST_REGIST_PNTTM DESC
	</select>
	
	<select id="item" resultType="CommunityVo">
		SELECT BOARD_ID,
	   		   BOARD_SJ,
	   		   BOARD_CN,
	   		   INQIRE_CO,
			   NOTICE_AT,
			   OTHBC_AT,
			   USE_AT,
			   ATCH_FILE_ID,
			   FRST_REGIST_PNTTM,
			   FRST_REGISTER_ID   
		FROM BOARD 
		WHERE board_id = #{boardId}
		ORDER BY A.FRST_REGIST_PNTTM DESC
	</select>
	
	<insert id="communityadd">
		INSERT INTO board (
			BOARD_ID, 
			BOARD_SJ, 
			INQIRE_CO, 
			NOTICE_AT, 
			OTHBC_AT, 
			USE_AT,
			FRST_REGIST_PNTTM,
			FRST_REGISTER_ID,
			LAST_UPDT_PNTTM,
			LAST_UPDUSR_ID
		)
		VALUES (
			#{boardId},
			#{boardSj},
			0,
			'Y',
			'Y',
			'Y',
			SYSDATE,
			'admin',
			SYSDATE,
			'admin'
		)
	</insert>
	
	<update id="communityupdate">
		UPDATE board
		SET bookname = #{bookname}, publisher = #{publisher}, price = #{price}
		WHERE board_id = #{boardId}
	</update>
	
	<delete id="communitydelete">
		DELETE FROM board
		WHERE board_id = #{boardId}
	</delete>
</mapper>